"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.moduleOptionPathInfo=void 0;const build_option_path_info_js_1=require("./build-option-path-info.js"),build_option_util_js_1=require("../project/build-option/build-option-util.js"),json_util_js_1=require("../utils/json-util.js");class ModuleOptionPathInfo{constructor(){this.moduleOptPathMap=new Map}initModuleOptPathMap(t){const o=(0,json_util_js_1.getJson5Obj)(t);this.moduleOptPathMap=(0,build_option_util_js_1.readOpt)(o,t)}setModuleOptPathMap(t,o,i){0===this.moduleOptPathMap.size&&this.initModuleOptPathMap(t);const e=(0,build_option_util_js_1.readOpt)(o,i);this.moduleOptPathMap=(0,build_option_path_info_js_1.mergePath)(this.moduleOptPathMap,e)}getModuleOptPath(t,o){var i,e;return 0===this.moduleOptPathMap.size&&this.initModuleOptPathMap(t),null!==(e=null===(i=this.moduleOptPathMap.get(o))||void 0===i?void 0:i.srcPath)&&void 0!==e?e:t}}exports.moduleOptionPathInfo=new ModuleOptionPathInfo;