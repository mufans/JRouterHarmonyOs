"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.moduleDependencyUtil=void 0;const module_type_enum_js_1=require("../enum/module-type-enum.js"),dependency_interface_js_1=require("../project/dependency/core/dependency-interface.js"),dependency_manager_js_1=require("../project/dependency/dependency-manager.js");class ModuleDependencyUtil{constructor(){this.pureHar=new Set}getPureHar(){return this.pureHar}init(e,n,d,t){if(n.getModuleType()!==module_type_enum_js_1.ModuleType.Entry)return;e.getDirectDependencies().filter((e=>e.isLocal()&&e.getDependencyType()===dependency_interface_js_1.DependencyType.DEPENDENCY_TYPE_HAR)).forEach((e=>{const n=d.getModuleModelByName(e.getPackageName());if(n){const e=new dependency_manager_js_1.DependencyManager(t,n,d).collectAllDependencies().npmDependencies,c=e.some((e=>e.isLocal()&&e.getDependencyType()===dependency_interface_js_1.DependencyType.DEPENDENCY_TYPE_HSP));c||(this.pureHar.add(n.getName()),e.forEach((e=>{this.pureHar.add(e.getPackageName())})))}}))}}exports.moduleDependencyUtil=new ModuleDependencyUtil;