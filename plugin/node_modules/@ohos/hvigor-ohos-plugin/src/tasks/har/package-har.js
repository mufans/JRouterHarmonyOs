"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PackageHar=void 0;const abstract_package_har_js_1=require("../abstract/abstract-package-har.js"),process_har_artifacts_js_1=require("./process-har-artifacts.js"),task_names_js_1=require("../common/task-names.js"),ohos_logger_js_1=require("../../utils/log/ohos-logger.js"),task_util_js_1=require("../../utils/task-util.js");class PackageHar extends abstract_package_har_js_1.AbstractPackageHar{constructor(e){super(e,task_names_js_1.TaskNames.Task.PACKAGE_HAR),this._log=ohos_logger_js_1.OhosLogger.getLogger(PackageHar.name),this.taskTmpDir=this.getTaskTempDir(this.targetData,void 0,!1)}initTaskDepends(){this.declareDependsList(process_har_artifacts_js_1.ProcessHarArtifacts.name)}async beforeAlwaysAction(){await super.beforeAlwaysAction(),this.warnWhenBundledDependencies(),(0,task_util_js_1.doObfuscationCheck)(this.targetService,this._log)}warnWhenBundledDependencies(){this.targetService.isByteCodeHar()&&this.targetService.isBundledDependencies()&&this._log.warn("bundledDependencies is an experimental feature and may cause runtime exceptions when there are multiple duplicate dependencies.")}}exports.PackageHar=PackageHar;