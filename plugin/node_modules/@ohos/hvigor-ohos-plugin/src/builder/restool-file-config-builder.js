"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RestoolConfigBuilder=void 0;const hvigor_1=require("@ohos/hvigor"),fs_extra_1=__importDefault(require("fs-extra")),build_directory_const_js_1=require("../const/build-directory-const.js"),file_util_js_1=require("../utils/file-util.js");class RestoolConfigBuilder{constructor(){this.inputFiles=new hvigor_1.FileSet,this.outputFiles=new hvigor_1.FileSet,this.existsResourceDir=!1,this.resToolConfigObj={configPath:void 0,packageName:void 0,output:void 0,startId:void 0,moduleNames:void 0,ResourceTable:[],applicationResource:void 0,moduleResources:[],dependencies:[],entryCompiledResource:void 0,iconCheck:!1,compression:void 0}}getConfigObject(){return this.resToolConfigObj}getResourceDir(){if(!this.existsResourceDir)return[];const e=[...this.resToolConfigObj.moduleResources,...this.resToolConfigObj.dependencies];return this.resToolConfigObj.applicationResource&&e.push(this.resToolConfigObj.applicationResource),e}addInputVariantDir(e){return this}addInputDir(e,i){if(file_util_js_1.FileUtil.checkPathLength(e),i){if(!fs_extra_1.default.existsSync(e))return this;if(this.inputFiles.addEntry(e),i===build_directory_const_js_1.ResToolInputTypeConst.APP)return this.addAppInputDir(e);if(i===build_directory_const_js_1.ResToolInputTypeConst.MODULE)return this.addModuleInputDir(e);if(i===build_directory_const_js_1.ResToolInputTypeConst.HAR)return this.addHarInputDir(e)}return this}addAppInputDir(e){return file_util_js_1.FileUtil.checkPathLength(e),this.existsResourceDir=!0,this.resToolConfigObj.applicationResource=e,this}addModuleInputDir(e){return file_util_js_1.FileUtil.checkPathLength(e),this.existsResourceDir=!0,this.resToolConfigObj.moduleResources.push(e),this}addHarInputDir(e){return file_util_js_1.FileUtil.checkPathLength(e),this.existsResourceDir=!0,this.resToolConfigObj.dependencies.push(e),this}addJsonFile(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.configPath=e,this.inputFiles.addEntry(e,{isDirectory:!1}),this}addModulePackName(e){return this.resToolConfigObj.packageName=e,this}addEntryCompiledResource(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.entryCompiledResource=e,this}addOutputDir(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.output=e,this.outputFiles.addEntry(e),this}addIdsPath(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.ids=e,this}addDefinedIds(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.definedIds=e,this}addDefinedSysIds(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.definedSysIds=e,this}addResTable(e){return file_util_js_1.FileUtil.checkPathLength(e),this.resToolConfigObj.ResourceTable.includes(e)||(this.resToolConfigObj.ResourceTable.push(e),this.outputFiles.addEntry(e,{isDirectory:!1})),this}setIconCheck(e){return this.resToolConfigObj.iconCheck=e,this}forceDelete(){return this}incremental(){return this}compressImage(){return this}addOutputBak(e){return this}addModules(e){return this.resToolConfigObj.moduleNames=e,this}addStartId(e){return this.resToolConfigObj.startId=e,this}addAppScopeResourcesDir(e){return this}addHarResourcesMap(e){return this}addModuleResourcesMap(e){return this}incrementalCompile(){return this}addCompression(e){return this.resToolConfigObj.compression=e,this}}exports.RestoolConfigBuilder=RestoolConfigBuilder;