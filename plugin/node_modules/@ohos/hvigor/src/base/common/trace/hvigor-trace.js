"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.hvigorTrace=void 0;const trace_manager_js_1=require("./trace-manager.js");class HvigorTrace{constructor(){this.data={IS_INCREMENTAL:!0,IS_DAEMON:!0,IS_PARALLEL:!0,IS_HVIGORFILE_TYPE_CHECK:!1,TASK_TIME:{}}}transmitDataToManager(){trace_manager_js_1.TraceManager.trace(HvigorTrace.TRACE_KEY,this.data,(()=>{delete this.data.BUILD_ID,delete this.data.ERROR_MESSAGE,this.data.TASK_TIME={}}))}traceTotalTime(a){this.data.TOTAL_TIME=a}traceBaseConfig(a,e,t,r){this.data.IS_INCREMENTAL=a,this.data.IS_DAEMON=e,this.data.IS_PARALLEL=t,this.data.IS_HVIGORFILE_TYPE_CHECK=r}traceBuildId(a){this.data.BUILD_ID=a}traceTaskTime(a,e,t){var r,s;let i;i=""===e?"APP":trace_manager_js_1.TraceManager.transformKey(trace_manager_js_1.TraceManager.anonymize(e));const _=a.substring(a.indexOf("@")+1),E=null!==(s=null===(r=this.data.TASK_TIME)||void 0===r?void 0:r[i])&&void 0!==s?s:{};E[_]=t,this.data.TASK_TIME&&(this.data.TASK_TIME[i]=E)}traceErrorMessage(a){this.data.ERROR_MESSAGE={CODE:a.code,BUILD_ID:a.buildId,MESSAGE:a.originMessage,SOLUTIONS:a.originSolutions,MORE_INFO:a.moreInfo,TIMESTAMP:a.timestamp.getTime().toString(),COMPONENTS:a.components,CHECK_MESSAGE:a.checkMessage}}}HvigorTrace.TRACE_KEY="HVIGOR",exports.hvigorTrace=new HvigorTrace;