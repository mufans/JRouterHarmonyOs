"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.nodeConfigPathInfo=void 0;const json5_reader_js_1=require("../base/util/json5-reader.js"),path_1=__importDefault(require("path"));class NodeConfigPathInfo{constructor(){this.nodeConfigPath=new Map,this.excludeNodes=[],this.buildProfilePath="",this.isModuleChanged=!1}addModuleConfigPath(e,t){this.nodeConfigPath.set(e,path_1.default.resolve(t,"hvigorconfig.ts")),this.isModuleChanged=!0}deleteModuleConfigPath(e){this.excludeNodes.push(e),this.nodeConfigPath.delete(e),this.isModuleChanged=!0}initNodeConfigPath(e){this.nodeConfigPath.clear(),this.isModuleChanged=!1,this.excludeNodes=[],this.buildProfilePath=e.getProject().getBuildProfilePath();const t=json5_reader_js_1.Json5Reader.getJson5Obj(this.buildProfilePath),o=null==t?void 0:t.modules;o&&o.forEach((e=>{this.nodeConfigPath.set(e.name,this.buildProfilePath)}))}getNodeConfigPathByName(e){var t;return null!==(t=this.nodeConfigPath.get(e))&&void 0!==t?t:this.buildProfilePath}checkExcludeNode(e){return this.excludeNodes.some((t=>t===e))}getIsModuleChanged(){return this.isModuleChanged}}exports.nodeConfigPathInfo=new NodeConfigPathInfo;