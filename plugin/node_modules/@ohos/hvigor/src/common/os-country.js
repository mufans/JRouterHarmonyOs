"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOsLanguage=void 0;const child_process_1=require("child_process"),system_util_js_1=require("./util/system-util.js"),WIN_CODE_CN=2052;var countryEnum;!function(t){t.CN="cn",t.EN="en"}(countryEnum||(countryEnum={}));let countryCache="";function getOsLanguage(){if(countryCache)return countryCache;let t=countryEnum.CN;return(0,system_util_js_1.isWindows)()?t=getWinLocale():(0,system_util_js_1.isMac)()?t=getMacLocale():(0,system_util_js_1.isLinux)()&&(t=getLinuxLocale()),countryCache=t,t}function getWinLocale(){const t=(0,child_process_1.spawnSync)("wmic",["os","get","locale"]);if(0!==t.status)return countryEnum.CN;return Number.parseInt(t.stdout.toString().replace("Locale",""),16)===WIN_CODE_CN?countryEnum.CN:countryEnum.EN}function getMacLocale(){const t=(0,child_process_1.spawnSync)("defaults",["read","-globalDomain","AppleLocale"]);return 0!==t.status||t.stdout.toString().indexOf("zh_CN")>=0?countryEnum.CN:countryEnum.EN}function getLinuxLocale(){var t;const n=(0,child_process_1.spawnSync)("locale");if(0!==n.status)return countryEnum.CN;const e={};for(const u of n.stdout.toString().split("\n")){const[n,c]=u.split("=");e[n]=null!==(t=null==c?void 0:c.replace(/^"|"$/g,""))&&void 0!==t?t:""}return(e.LC_ALL||e.LC_MESSAGES||e.LANG||e.LANGUAGE).indexOf("zh_CN")>=0?countryEnum.CN:countryEnum.EN}exports.getOsLanguage=getOsLanguage;